var PxerLauncher=function(a){Object.assign(this,{sync:[],asyn:[],onsync:function(){return console.log("Sync list is OK!")},onasyn:function(){},onerror:function(a){return console.error(a)},cache:!0},a)};PxerLauncher.prototype.load=function(){this.loadSync();this.loadAsyn()};PxerLauncher.prototype.loadSync=function(){var a=this,b=Promise.resolve();this.sync.forEach(function(a){var c=this;b=b.then(function(){return new Promise(function(b,d){var e=c.createElt(a);e.addEventListener("load",b);e.addEventListener("error",d.bind(null,e));document.head.appendChild(e)})})},this);b.then(this.onsync);b["catch"](function(b){console.error("PxerLauncher load file error!");a.onerror(b)})};PxerLauncher.prototype.loadAsyn=function(){this.asyn.forEach(function(a){a=this.createElt(a);a.async=!0;document.head.appendChild(a)},this)};PxerLauncher.prototype.createElt=function(a){var b=a.replace(".php","").match(/\.([A-Za-z0-9]*?)(?:\?.+)?$/)[1],d=document.createElement(this.tagMap[b].tag);this.cache||(a=-1==a.indexOf("?")?a+"?"+(new Date).getTime():a+"\x26"+(new Date).getTime());var b=this.tagMap[b].attr,c;for(c in b)"%PATH%"===b[c]?d.setAttribute(c,a):d.setAttribute(c,b[c]);return d};PxerLauncher.prototype.tagMap={js:{tag:"script",attr:{charset:"utf-8",type:"text/javascript",src:"%PATH%"}},css:{tag:"link",attr:{rel:"stylesheet",href:"%PATH%"}},ico:{tag:"link",attr:{rel:"shortcut icon",type:"image/x-icon",href:"%PATH%"}}};